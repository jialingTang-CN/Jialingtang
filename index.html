<!DOCTYPE html> 
<html lang="en"> 
<head> 
    <meta charset="UTF-8"> 
    <meta name="viewport" content="width=device-width, initial-scale=1.0"> 
    <title>jialing t? APK-Downloader</title> 
</head> 
<style>
   .header-container {
    position: relative;
    height: 100px;
  }
   .corner-img {
     position: absolute;
     top: 10px;
     right: 10px;
     width: 70px;
     height: auto;
     border-radius: 4px;
     box-shadow: 0 2px 5px rgba(0,0,0,0.1);
   }
    #preview-frame {
            width: 100%;
            height: 500px;
            border: 2px dashed #3498db;
            border-radius: 6px;
            margin-top: 20px;
            background: white;
        }
        .notice {
            color: #e74c3c;
            font-weight: bold;
            margin: 10px 0;
        }
</style>

<body> 
style="
      margin:0;
      position:relative;   /* body 作定位上下文 */
      min-height:100vh;    /* 至少一屏高 */
">
 
    <!-- ✅这段就是你想保留下来的内联 SVG -->
    <svg class="svg-background"
         viewBox="-152 -236 1440 801"
         preserveAspectRatio="xMidYMid slice"
         xmlns="http://www.w3.org/2000/svg" 
         style="
           position:absolute;
           top:0; left:0;
           width:100%;
           height:100%;
           z-index:-1;      /* ←压到最底下 */
           pointer-events:none; /* ←让它不挡鼠标 */
         ">
        <!-- ↓↓↓下面就是你手头的完整 SVG ↓↓↓ -->
        <defs>
            <clipPath id="clip0_276_1491">
                <rect x="0" y=".13037"
                      width="1440"
                      height="800"
                      fill="#fff"/>
            </clipPath>
        </defs>
 
        <g clip-path='url(#clip0_276_1491)'>
            <rect x="-152"
                  y="-235.86963"
                  width='1440'
                  height='800'
                  fill='#CE7975'/>
            <g opacity='0.55'>
                <rect x='-149.75439'
                      y='402.424'
                      width='1435.51'
                      height='340.706'
                      fill='#CE7975'/>
                <!-- …其余矩形重复同上… -->
            </g>
        </g>
    </svg>
    
    <h1>首先先在这里恭喜唐子睿的担回来直播了。-----APK File Download</h1>
    <h2>APK Named '可正常运行的,但是功能不完善' File Download</h2>
    <audio id="rainAudio" loop>
    <source src="SVID_20251018_210057_1.mp3"  type="audio/mpeg">
    您的浏览器不支持音频元素
</audio>
    <audio id="audio1" preload="auto"></audio>
<audio id="audio2" preload="auto"></audio>
      <h3>HTML注入测试器</h3>
  <textarea id="input" rows="5" cols="50" placeholder="输入HTML代码..."></textarea><br>
    <div class="container">
        <h1>HTML完整渲染工具</h1>
        <div class="time-info">
            📅 当前时间：2025年10月19日 星期日（农历乙巳蛇年八月廿八）12:02
        </div>
        
        <textarea id="html-code" placeholder="请在此粘贴完整的HTML代码（包括<!DOCTYPE>、<html>、<head>、<body>等所有标签）"></textarea>
        
        <div class="notice">⚠️ 注意：此工具会完全执行您输入的HTML/CSS/JS代码，请确保代码来源可信</div>
        
        <button onclick="renderFullPage()">完整渲染HTML</button>
        
        <iframe id="preview-frame" sandbox="allow-scripts allow-same-origin"></iframe>
    </div>
  
    <!-- Create a button that triggers the download when clicked --> 
    <button onclick="downloadAPK()">Download '枫.apk'</button>  
    <button onclick="downloadAPK1()">Download '?.apk'</button>  
    <button onclick="hh111()">设置青春背景'我们的时光'</button>
    <button onclick="hioo()">rain here</button>
    <button onclick="(function(c){document.body.style.backgroundImage=['url(qingchun.jpg)','url(backgroundless.png)','none'][(c=window.bgCount=((window.bgCount ||0)+1)%3)];document.body.style.backgroundSize='cover';})()"> 
切换背景
    </button>
    <script> 
        function downloadAPK() { 
            // Create a hidden anchor element to handle the download 
            const downloadLink = document.createElement('a');  
            
            // Set the href to the path of your APK file 
            // Note: Ensure the file path is correct (e.g., same directory or full URL) 
            downloadLink.href  = 'debug.apk';  
            
            // Set the download attribute with the desired filename (preserves spaces) 
            downloadLink.download  = 'debug.apk';  
            
            // Simulate a click on the hidden link to start download 
            downloadLink.click();  
            
            // Clean up the created element 
            downloadLink.remove();  
        } 
        function downloadAPK1() { 
            // Create a hidden anchor element to handle the download 
            const downloadLink = document.createElement('a');  
            
            // Set the href to the path of your APK file 
            // Note: Ensure the file path is correct (e.g., same directory or full URL) 
            downloadLink.href  = 'm1.apk';  
            
            // Set the download attribute with the desired filename (preserves spaces) 
            downloadLink.download  = 'm1.apk';  
            
            // Simulate a click on the hidden link to start download 
            downloadLink.click();  
            
            // Clean up the created element 
            downloadLink.remove();  
        }
        function hh111() {
            document.body.style.backgroundImage  = "url('qingchun.jpg')"; 
            document.body.style.backgroundSize  = "contain";
            document.body.style.backgroundRepeat  = "no-repeat";
            document.body.style.backgroundPosition  = "center";
            document.body.style.backgroundAttachment  = "fixed";
            document.body.style.backgroundColor  = "#f0f0f0"; // 备用背景色
        }
        let clickCount = 0;
        function hioo() {
            clickCount++;
            
            // 使用模运算实现循环切换（0,1,2,0,1,2...）
            const state = clickCount % 3;
            
            switch(state) {
                case 1: // 第一次点击 - 设置bb.jpg  
                    document.body.style.backgroundImage  = "url('qingchun.jpg')"; 
                    document.body.style.backgroundSize  = "cover";
                    document.body.style.backgroundRepeat  = "no-repeat";
                    document.body.style.backgroundPosition  = "center";
                    bgToggleBtn.textContent  = "切换到第二个背景";
                    break;
                    
                case 2: // 第二次点击 - 设置nn.jpg  
                    document.body.style.backgroundImage  = "url('backgroundless.png')"; 
                    bgToggleBtn.textContent  = "清除背景";
                    break;
                    
                case 0: // 第三次点击 - 清除背景 
                    document.body.style.backgroundImage  = "none";
                    document.body.style.backgroundColor  = ""; // 恢复默认背景色 
                    bgToggleBtn.textContent  = "设置第一个背景";
                    clickCount = 0; // 重置计数器（可选）
                    break;
            }
        }
            // 音频控制（需用户交互后播放）
    const audio = document.getElementById('rainAudio'); 
    let audioEnabled = false;
    
    // 点击页面后启用音频
    
        // 音频元素配置 
    const audio1 = document.getElementById('audio1'); 
    const audio2 = document.getElementById('audio2'); 
    let currentAudio = audio1;
    let nextAudio = audio2;
    
    // 音频文件（建议使用同一文件的不同段落或相同文件）
    const audioSrc = 'SVID_20251018_210057_1.mp3'; 
    
    // 初始化音频 
    function initAudio() {
        audio1.src  = audioSrc;
        audio2.src  = audioSrc;
        
        audio1.volume  = 0.3;
        audio2.volume  = 0.3;
        
        // 第一个音频开始播放 
        audio1.play().catch(e  => console.log(" 需要用户交互"));
        
        // 设置音频结束监听 
        audio1.addEventListener('timeupdate',  checkAudioProgress);
        audio2.addEventListener('timeupdate',  checkAudioProgress);
    }
    
    // 检查音频进度，实现无缝切换 
    function checkAudioProgress() {
        if(this.currentTime  > this.duration  - 0.5) { // 提前0.5秒准备切换 
            nextAudio.currentTime  = 0;
            nextAudio.play(); 
            
            // 交换当前和下一个音频引用 
            const temp = currentAudio;
            currentAudio = nextAudio;
            nextAudio = temp;
        }
    }
    
    // 用户交互后初始化 
    document.addEventListener('click',  initAudio);
    // 现代浏览器要求音频必须在用户交互后播放
    
    
    // 在合适位置调用enableAudio()，比如按钮点击事件
        function renderFullPage() {
            const code = document.getElementById('html-code').value; 
            const frame = document.getElementById('preview-frame'); 
            
            // 完全清空iframe
            frame.srcdoc  = '';
            
            // 使用setTimeout确保iframe完全重置
            setTimeout(() => {
                try {
                    // 直接写入完整的HTML文档
                    frame.srcdoc  = code;
                    
                    // 添加时间戳标记
                    const timeStamp = new Date();
                    console.log(`[${timeStamp.toLocaleString()}]  HTML已渲染`);
                    
                } catch (e) {
                    frame.srcdoc  = `
                        <!DOCTYPE html>
                        <html>
                        <head><title>渲染错误</title></head>
                        <body style="color:red;padding:20px;">
                            <h2>渲染错误：</h2>
                            <pre>${e.message}</pre> 
                            <p>请检查HTML代码完整性</p>
                        </body>
                        </html>
                    `;
                }
            }, 100);
        }
          
      
    </script> 
</body> 
</html> 
